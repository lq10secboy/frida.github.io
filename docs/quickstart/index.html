<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Quick-start guide</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="Frida - Feed" href="/feed.xml" />
  <link rel="alternate" type="application/atom+xml" title="Recent commits to Frida’s master branch" href="https://github.com/frida/frida/commits/master.atom" />
  <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Arizonia' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/screen.css" />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <script src="/js/modernizr-2.5.3.min.js"></script>
</head>


<body class="wrap">
  <header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Overview</a>
  </li>
  <li class="current">
    <a href="/docs/home/">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="/news/">News</a>
  </li>
  <li class="">
    <a href="https://github.com/frida"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <h1>
        <a href="/">
          <span>Frida</span>
          <img src="/img/logo-2x.png" width="226" height="115" alt="">
        </a>
      </h1>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="/">Overview</a>
  </li>
  <li class="current">
    <a href="/docs/home/">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="/news/">News</a>
  </li>
  <li class="">
    <a href="https://github.com/frida"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

    </nav>
  </div>
</header>


    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the docs…</option>
    <optgroup label="Getting started">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/home/">Welcome</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/quickstart/">Quick-start guide</option>
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/installation/">Installation</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/usage/">Basic Usage</option>
    
  


    </optgroup>
    <optgroup label="Tutorials">
      


  

  
    
  
    
  
    
  
    
  
    
      <option value="/docs/functions/">Functions</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/messages/">Messages</option>
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/ios/">iOS</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
      <option value="/docs/android/">Android</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    <optgroup label="API Reference">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/javascript-api/">JavaScript API</option>
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    <optgroup label="Miscellaneous">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/troubleshooting/">Troubleshooting</option>
    
  
    
  

  

  
    
  
    
      <option value="/docs/building/">Building</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    <optgroup label="Meta">
      


  

  
    
  
    
  
    
      <option value="/docs/contributing/">Contributing</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/gsoc-ideas-2015/">GSoC Ideas 2015</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/history/">History</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
  </select>
</div>


      <div class="unit four-fifths">
        <article>
          <h1>Quick-start guide</h1>
          <p>For the impatient, here’s how to do function tracing with Frida:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">~ <span class="nv">$ </span>sudo easy_install frida
~ <span class="nv">$ </span>frida-trace -i <span class="s1">&#39;recv*&#39;</span> -i <span class="s1">&#39;read*&#39;</span> Skype
recv: Auto-generated handler: …/recv.js
<span class="c"># (snip)</span>
recvfrom: Auto-generated handler: …/recvfrom.js
Started tracing <span class="m">21</span> functions. Press ENTER to stop.
    <span class="m">39</span> ms	recv<span class="o">()</span>
   <span class="m">112</span> ms	recvfrom<span class="o">()</span>
   <span class="m">128</span> ms	recvfrom<span class="o">()</span>
   <span class="m">129</span> ms	recvfrom<span class="o">()</span></code></pre></div>

<p>So as you can see, Frida injected itself into Skype, enumerated the loaded
shared libraries and hooked all the functions whose names start with either
<code>recv</code> or <code>read</code>. It also generated some boilerplate scripts for taking care
of inspecting the function calls as they happen. Now, those scripts are just
examples that you are meant to edit to taste, and will be automatically reloaded
as they change on the filesystem. By default they just print the name of the
function, as you can see in the output above.</p>

<p>Now, let’s have a look at the generated <code>recvfrom.js</code>:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="cm">/*</span>
<span class="cm"> * Auto-generated by Frida. Please modify to match the</span>
<span class="cm"> * signature of recvfrom.</span>
<span class="cm"> *</span>
<span class="cm"> * This stub is somewhat dumb. Future verions of Frida</span>
<span class="cm"> * could auto-generate based on OS API references, manpages,</span>
<span class="cm"> * etc. (Pull-requests appreciated!)</span>
<span class="cm"> *</span>
<span class="cm"> * For full API reference, see:</span>
<span class="cm"> * http://www.frida.re/docs/javascript-api/</span>
<span class="cm"> */</span>

<span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     * Called synchronously when about to call recvfrom.</span>
<span class="cm">     *</span>
<span class="cm">     * @this {object} - Object allowing you to store state for</span>
<span class="cm">     * use in onLeave.</span>
<span class="cm">     * @param {function} log - Call this function with a string</span>
<span class="cm">     * to be presented to the user.</span>
<span class="cm">     * @param {array} args - Function arguments represented as</span>
<span class="cm">     * an array of NativePointer objects.</span>
<span class="cm">     * For example use Memory.readUtf8String(args[0]) if the</span>
<span class="cm">     * first argument is a pointer to a C string encoded as</span>
<span class="cm">     * UTF-8.</span>
<span class="cm">     * It is also possible to modify arguments by assigning a</span>
<span class="cm">     * NativePointer object to an element of this array.</span>
<span class="cm">     * @param {object} state - Object allowing you to keep</span>
<span class="cm">     * state across function calls.</span>
<span class="cm">     * Only one JavaScript function will execute at a time, so</span>
<span class="cm">     * do not worry about race-conditions. However, do not use</span>
<span class="cm">     * this to store function arguments across onEnter/onLeave,</span>
<span class="cm">     * but instead use &quot;this&quot; which is an object for keeping</span>
<span class="cm">     * state local to an invocation.</span>
<span class="cm">     */</span>
    <span class="nx">onEnter</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">onEnter</span><span class="p">(</span><span class="nx">log</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">(</span><span class="s2">&quot;recvfrom()&quot;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="cm">/**</span>
<span class="cm">     * Called synchronously when about to return from recvfrom.</span>
<span class="cm">     *</span>
<span class="cm">     * See onEnter for details.</span>
<span class="cm">     *</span>
<span class="cm">     * @this {object} - Object allowing you to access state</span>
<span class="cm">     * stored in onEnter.</span>
<span class="cm">     * @param {function} log - Call this function with a string</span>
<span class="cm">     * to be presented to the user.</span>
<span class="cm">     * @param {NativePointer} retval - Return value represented</span>
<span class="cm">     * as a NativePointer object.</span>
<span class="cm">     * @param {object} state - Object allowing you to keep</span>
<span class="cm">     * state across function calls.</span>
<span class="cm">     */</span>
    <span class="nx">onLeave</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">onLeave</span><span class="p">(</span><span class="nx">log</span><span class="p">,</span> <span class="nx">retval</span><span class="p">,</span> <span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p>Now, replace the <code>log()</code> line with the following:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;recvfrom(socket=&quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toInt32</span><span class="p">()</span>
    <span class="o">+</span> <span class="s2">&quot;, buffer=&quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="o">+</span> <span class="s2">&quot;, length=&quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">toInt32</span><span class="p">()</span>
    <span class="o">+</span> <span class="s2">&quot;, flags=&quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="o">+</span> <span class="s2">&quot;, address=&quot;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
    <span class="o">+</span> <span class="s2">&quot;, address_len=&quot;</span> <span class="o">+</span> <span class="nx">Memory</span><span class="p">.</span><span class="nx">readPointer</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="mi">5</span><span class="p">]).</span><span class="nx">toInt32</span><span class="p">()</span>
    <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">);</span></code></pre></div>

<p>Save the file (it will be reloaded automatically) and click on a contact in
your Skype contact list to trigger some network activity. You should now see
something along the lines of:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="m">8098</span> ms	recvfrom<span class="o">(</span><span class="nv">socket</span><span class="o">=</span>70,
                         <span class="nv">buffer</span><span class="o">=</span>0x32cc018, <span class="nv">length</span><span class="o">=</span>65536,
                         <span class="nv">flags</span><span class="o">=</span>0x0,
                         <span class="nv">address</span><span class="o">=</span>0xb0420bd8, <span class="nv">address_len</span><span class="o">=</span>16<span class="o">)</span></code></pre></div>

<p>That’s nothing, though. The real magic happens when you start building your
own tools using the Python API that <a href="https://github.com/frida/frida-python/blob/master/src/frida/tracer.py">frida-trace</a> is built on top of.</p>


          <div class="section-nav">
  <div class="left align-right">
    
      <a href="/docs/home/" class="prev">
        Back
      </a>
    
  </div>
  <div class="right align-left">
    
      <a href="/docs/installation/" class="next">
        Next
      </a>
    
  </div>
  <div class="clear"></div>
</div>


        </article>
      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>
    <h4>Getting Started</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/home/">Welcome</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="current"><a href="/docs/quickstart/">Quick-start guide</a></li>
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/installation/">Installation</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/usage/">Basic Usage</a></li>
    
  

  
</ul>

    <h4>Tutorials</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/functions/">Functions</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/messages/">Messages</a></li>
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/ios/">iOS</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
      <li class=""><a href="/docs/android/">Android</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>API Reference</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/javascript-api/">JavaScript API</a></li>
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>Miscellaneous</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/troubleshooting/">Troubleshooting</a></li>
    
  
    
  


  

  
    
  

  
    
  
    
      <li class=""><a href="/docs/building/">Building</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

    <h4>Meta</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
      <li class=""><a href="/docs/contributing/">Contributing</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/gsoc-ideas-2015/">GSoC Ideas 2015</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/history/">History</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>

  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>


  <footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>By <a href="http://twitter.com/oleavr/">Ole André Vadla Ravnås</a> and <a href="http://kalleberg.org/">Karl Trygve Kalleberg</a>.</p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        Proudly hosted by
        <a href="https://github.com">
          <img src="/img/footer-logo.png" alt="GitHub • Social coding">
        </a>
      </p>
    </div>
  </div>
</footer>

  


  <!-- Google Analytics (http://google.com/analytics) -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46880695-1']);
    _gaq.push(['_setDomainName', '']); // Multiple sub-domains
    _gaq.push(['_setAllowLinker', true]); // Multiple TLDs
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</body>
</html>
